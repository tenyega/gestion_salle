<nav class="flex items-center justify-between p-2 bg-slate-50">

	<a href="/" class="flex items-center gap-1">
		<img src="{{ asset('img/logo.png')}}" alt="logo" width="100" class="transition-transform duration-200 ease-in-out hover:scale-95">
		<p class="ml-10 text-3xl font-extrabold text-[#0f2442]">{{' Rental For All Events'| trans }}</p>

	</a>
	<div class="flex items-center justify-between gap-2">
		<div class="flex justify-center px-2 py-2 mr-16 bg-white rounded-md shadow dark-mode:bg-gray-800">
			<a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href="{{ path('app_home') }}" title="Home">{{ ux_icon('mdi:home',{'class': 'h-6 w-6'}) }}</a>
			<a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href="{{ path('app_contact') }}" title="Contact">{{ ux_icon('mdi:email-outline',{'class': 'h-6 w-6'}) }}</a>
		</div>
		<a href="{{path('app_hall_index')}}" class="p-2 shadow block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" title="Show halls">
			{{ ux_icon('mdi:home-group',{'class': 'h-6 w-6'}) }}
		</a>
		<div class="bg-slate-50 flex rounded-lg border-slate-400 shadow">

			<div class="relative" x-data="{ localisationOpen: false }">
				<button @click="localisationOpen = !localisationOpen" class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:w-auto md:inline md:mt-0 md:ml-4 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline">
					<span class="">Location
					</span>
					<svg fill="currentColor" viewbox="0 0 20 20" :class="{'rotate-180': localisationOpen, 'rotate-0': !localisationOpen}" class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1">
						<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
					</svg>
				</button>
				<div x-show="localisationOpen" @click.away="localisationOpen = false" x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" class="absolute right-0 z-50 flex-shrink-0 w-48 mt-2 origin-top-right rounded-md shadow-lg">
					<div class="px-2 py-2 bg-white rounded-md shadow dark-mode:bg-gray-800 h-[30vh] overflow-auto">
						{% for city in cities %}
							<a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href="{{ path('app_halls_by_city', {name: city}) }}">{{ city }}</a>
						{% endfor %}
					</div>
				</div>
			</div>

			<div class="relative" x-data="{ ergonomieOpen: false }">
				<button @click="ergonomieOpen = !ergonomieOpen" class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:w-auto md:inline md:mt-0 md:ml-4 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline">
					<span>Ergonomy</span>
					<svg fill="currentColor" viewbox="0 0 20 20" :class="{'rotate-180': ergonomieOpen, 'rotate-0': !ergonomieOpen}" class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1">
						<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
					</svg>
				</button>
				<div x-show="ergonomieOpen" @click.away="ergonomieOpen = false" x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" class="absolute right-0 z-50 flex-shrink-0 w-48 mt-2 origin-top-right rounded-md shadow-lg">
					<div class="px-2 py-2 bg-white rounded-md shadow dark-mode:bg-gray-800">
						{% for ergonomy in ergonomies %}
							<a class="block px-4 py-2 mt-2 text-sm font-semibold bg-transparent rounded-lg dropdown-item dark-mode:bg-transparent dark-mode:hover:bg-gray-600 dark-mode:focus:bg-gray-600 dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:text-gray-200 md:mt-0 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline" href="{{ path('app_halls_by_ergonomy', {name: ergonomy.name}) }}">
								{{ ergonomy.name }}
							</a>
						{% endfor %}
					</div>
				</div>
			</div>

			<div class="relative" x-data="{ equipementOpen: false }">
				<button @click="equipementOpen = !equipementOpen" class="flex flex-row items-center w-full px-4 py-2 mt-2 text-sm font-semibold text-left bg-transparent rounded-lg dark-mode:bg-transparent dark-mode:focus:text-white dark-mode:hover:text-white dark-mode:focus:bg-gray-600 dark-mode:hover:bg-gray-600 md:w-auto md:inline md:mt-0 md:ml-4 hover:text-gray-900 focus:text-gray-900 hover:bg-gray-200 focus:bg-gray-200 focus:outline-none focus:shadow-outline">
					<span>Equipment</span>
					<svg fill="currentColor" viewbox="0 0 20 20" :class="{'rotate-180': equipementOpen, 'rotate-0': !equipementOpen}" class="inline w-4 h-4 mt-1 ml-1 transition-transform duration-200 transform md:-mt-1">
						<path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path>
					</svg>
				</button>
				<div x-show="equipementOpen" @click.away="equipementOpen = false" x-transition:enter="transition ease-out duration-100" x-transition:enter-start="transform opacity-0 scale-95" x-transition:enter-end="transform opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="transform opacity-100 scale-100" x-transition:leave-end="transform opacity-0 scale-95" class="absolute right-0 z-50 flex-shrink-0 w-48 mt-2 origin-top-right rounded-md shadow-lg">
					<div class="px-2 py-2 bg-white rounded-md shadow dark-mode:bg-gray-800">
						<button class="dropdown-toggle">Filter by equipments</button>
						<div class="dropdown-menu">
							<form id="equipmentFilterForm" action="{{ path('app_halls_by_equipments') }}" method="get">
								{% for equipment in equipments %}
									<div class="form-check">
										<input class="form-check-input" type="checkbox" name="equipments[]" value="{{ equipment.id }}" id="equipment{{ equipment.id }}">
										<label class="form-check-label" for="equipment{{ equipment.id }}">
											{{ equipment.name }}
										</label>
									</div>
								{% endfor %}
								<button type="submit" class="btn btn-primary">Filter</button>
							</form>
						</div>
					</div>
				</div>
			</div>

		</div>
		{% if app.user %}

			<a href="{{path('app_reservation_index')}}" class="p-2 border-2 rounded-md border-neutral-700" title="My reservations">
				{{ ux_icon('mdi:reschedule',{'class': 'h-6 w-6'}) }}
			</a>
			<a href="{{path('app_profile_show')}}" data-tooltip="Logout" class="p-2 border-2 rounded-md border-neutral-700" title='My profile'>
				{{ ux_icon('mdi:user',{'class': 'h-6 w-6'}) }}
			</a>
			{% if is_granted('ROLE_ADMIN') %}
				<a href="{{path('app_admin')}}" data-tooltip="Dashboard" class="p-2 border-2 rounded-md border-neutral-700" title='Dashboard'>
					{{ ux_icon('mdi:monitor-dashboard',{'class': 'h-6 w-6'}) }}
				</a>
			{% endif %}
			<a href="{{path('app_logout')}}" data-tooltip="Logout" class="p-2 border-2 rounded-md border-neutral-700" title='logout'>
				{{ ux_icon('mdi:logout',{'class': 'h-6 w-6'}) }}
			</a>
		{% else %}
			<a href="{{path('app_login')}}" class="p-2 border-2 rounded-md border-neutral-700" title="Login">
				{{ ux_icon('mdi:login-variant',{'class': 'h-6 w-6'}) }}
			</a>
		{% endif %}
	</div>
</nav>
